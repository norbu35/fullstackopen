{"version":3,"sources":["services/people.jsx","components/Add.jsx","components/Filter.jsx","components/List.jsx","components/Notification.jsx","App.js","index.js"],"names":["baseUrl","services_people","newPerson","axios","post","then","resp","data","get","id","changedPerson","put","concat","delete","Add","_ref","addPerson","newName","newNumber","handleNewName","handleNewNumber","react_default","a","createElement","onSubmit","value","onChange","type","Filter","filter","handleFilter","Fragment","List","people","handleRemove","style","listStyleType","person","name","toLowerCase","includes","map","key","number","onClick","Notification","message","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","Object","slicedToArray","setPeople","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","useEffect","personService","components_Notification","components_Filter","event","target","components_Add","preventDefault","existingPerson","find","console","log","window","confirm","objectSpread","setTimeout","createdPerson","catch","err","res","error","components_List","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.23d6662b.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/people\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((resp) => resp.data);\n};\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson);\n  return request.then((resp) => resp.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((resp) => resp.data);\n};\n\nconst update = (id, changedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, changedPerson);\n  return request.then((resp) => resp.data);\n};\n\nexport default { create, getAll, update, remove };\n","import React from \"react\";\n\nconst Add = ({\n  addPerson,\n  newName,\n  newNumber,\n  handleNewName,\n  handleNewNumber,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <h2>add new</h2>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Add;\n","import React from \"react\";\n\nconst Filter = ({ filter, handleFilter }) => {\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <div>\n        filter shown with <input value={filter} onChange={handleFilter} />\n      </div>\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst List = ({ people, filter, handleRemove }) => {\n  return (\n    <>\n      <h2>Numbers</h2>\n      <ul style={{ listStyleType: \"none\" }}>\n        {filter\n          ? people\n              .filter((person) =>\n                person.name.toLowerCase().includes(filter.toLowerCase())\n              )\n              .map((person) => (\n                <li key={person.id}>\n                  {person.name} {person.number}\n                </li>\n              ))\n          : people.map((person) => (\n              <li key={person.id}>\n                {person.name} {person.number}{\" \"}\n                <button onClick={() => handleRemove(person.id)}>delete</button>\n              </li>\n            ))}\n      </ul>\n    </>\n  );\n};\n\nexport default List;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  const styleNotification = {\n    color: \"green\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  const styleError = {\n    color: \"red\",\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n  if (!message) return null;\n\n  if (type === \"notification\")\n    return <div style={styleNotification}>{message}</div>;\n  if (type === \"error\") return <div style={styleError}>{message}</div>;\n};\n\nexport default Notification;\n","import React, { useEffect, useState } from \"react\";\nimport personService from \"./services/people\";\n\nimport Add from \"./components/Add\";\nimport Filter from \"./components/Filter\";\nimport List from \"./components/List\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [people, setPeople] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState({});\n\n  useEffect(() => {\n    personService.getAll().then((resp) => setPeople(resp));\n  }, []);\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleFilter = (event) => {\n    setFilter(event.target.value);\n  };\n  const handleRemove = (id) => {\n    if (\n      window.confirm(\n        `Delete ${people.find((person) => person.id === id).name}?`\n      )\n    ) {\n      personService\n        .remove(id)\n        .then(setPeople(people.filter((person) => person.id !== id)))\n        .catch((err) => {\n          setNotificationMessage({\n            message: `${\n              people.find((person) => person.id === id).name\n            } has already been deleted from server`,\n            type: \"error\",\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, type: null });\n          }, 5000);\n        });\n    }\n    setNotificationMessage({\n      message: `Deleted ${people.find((person) => person.id === id).name}`,\n      type: \"notification\",\n    });\n    setTimeout(() => {\n      setNotificationMessage({ message: null, type: null });\n    }, 5000);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const existingPerson = people.find((person) => person.name === newName);\n\n    if (existingPerson) {\n      console.log(existingPerson);\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Replace the old number with a new one?`\n        )\n      ) {\n        const changedPerson = {\n          ...existingPerson,\n          number: newNumber,\n        };\n        personService.update(existingPerson.id, changedPerson);\n      }\n\n      setNotificationMessage({\n        message: `${\n          people.find((person) => person.name === newName).name\n        }'s number changed`,\n        type: \"notification\",\n      });\n      setTimeout(() => {\n        setNotificationMessage({ message: null, type: null });\n      }, 5000);\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n\n      personService\n        .create(newPerson)\n        .then((createdPerson) => {\n          setNotificationMessage({\n            message: `Added ${newName}`,\n            type: \"notification\",\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, type: null });\n          }, 5000);\n        })\n        .catch((err) => {\n          setNotificationMessage({\n            message: err.res.data.error,\n            type: \"error\",\n          });\n          setTimeout(() => {\n            setNotificationMessage({ message: null, type: null });\n          }, 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <Notification\n        message={notificationMessage.message}\n        type={notificationMessage.type}\n      />\n      <Filter handleFilter={handleFilter} filter={filter} />\n      <Add\n        addPerson={addPerson}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <List people={people} filter={filter} handleRemove={handleRemove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n"],"sourceRoot":""}